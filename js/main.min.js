$(function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),$('a[href*="blog."]').on("click",function(e){ga("send","event","link","click","gotoblog")}),$("[data-newtab]").on("click",function(e){var t=$(this).attr("data-newtab");window.open(t,"_blank")}),$(window).scroll(function(e){var t=$(".header").last(),a=$(window).scrollTop(),n=$(".scroll-up").last();a?t.addClass("header_scrolled"):t.removeClass("header_scrolled"),1e3<a?n.addClass("page_scrolled"):n.removeClass("page_scrolled")}),$(window).scroll(function(e){var t=$(window).scrollTop(),a=$(".scroll-up");200<=t?a.fadeIn():a.fadeOut()});var e=$("#scene").get(0);if(null!=e)new Parallax(e,{relativeInput:!0,pointerEvents:!0});$("a.hamburger-icon").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(".menu").fadeToggle()}),$('[name*="phone"]').mask("+7(999)999-99-99"),$('a[href*="#"]').on("click",function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if((t=t.length&&t||$("[name="+this.hash.slice(1)+"]")).length){var a=t.offset().top;return $("html,body").animate({scrollTop:a}),!1}}}),$('button[data-scroll*="#"]').on("click",function(e){"/"!=location.pathname&&(window.location="/"+$(this).attr("data-scroll"))}),$('a[href*="#"].menu__link').on("click",function(e){$("a.hamburger-icon").is(":visible")&&(e.preventDefault(),$(".hamburger-icon").toggleClass("active"),$(".menu").fadeToggle())}),$("[data-scroll]").click(function(e){e.preventDefault();var t=$($(this).attr("data-scroll")).offset().top;$("body, html").animate({scrollTop:t})}),$(".scroll-up").click(function(e){e.preventDefault(),$("body, html").animate({scrollTop:0})}),$("#send").on("click",function(e){var t=$("#form-contact");if(t.validate({rules:{name:{required:!0,minlength:3,maxlength:32},email:{require_from_group:[1,".contact-group"]},phone:{require_from_group:[1,".contact-group"]},message:{maxlength:250}},messages:{name:{required:"Пожалуйста, введите Ваше имя",minlength:"Минимальная длина {0} символа",maxlength:"Максимальная длина {0} символа"},email:{require_from_group:"Заполните одно из полей",email:"Пожалуйста, введите правильный email"},phone:{require_from_group:"Заполните одно из полей",pattern:"Пожалуйста, введите правильный номер"},message:{maxlength:"Максимальная длина {0} символов"}}}),t.valid()){e.preventDefault(),ga("send","event","button","click","sendform");var a=t.attr("action");$.ajax({type:"POST",url:a,data:t.serialize(),success:function(e,t,a){log(e),"OK"==e?swal({title:"Спасибо!",text:"Заявка отправлена, в течении 5 минут я с Вами свяжусь.",icon:"success",button:"Хорошо"}):swal({title:"Упс...",text:"Произошла ошибка, попробуйте еще раз",icon:"error",button:"Понятно"})},error:function(e,t,a){swal({title:"Упс...",text:"Произошла ошибка, попробуйте еще раз",icon:"error",button:"Понятно"})}})}})});